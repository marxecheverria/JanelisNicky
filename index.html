<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#764ba2">
    <meta name="description" content="√Ålbum fotogr√°fico m√≥vil con m√∫sica y efectos interactivos">
    <title>√Ålbum Fotogr√°fico üíñ</title>
    
    <!-- Manifest para PWA -->
    <link rel="manifest" href="manifest.json">
    
    <!-- CSS cr√≠tico completo inline para carga instant√°nea -->
    <style>
        /* Reset y configuraci√≥n base */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html, body { 
            width: 100%; height: 100%; overflow: hidden; position: fixed;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #667eea;
        }
        
        /* Contenedor del √°lbum */
        .album-container { 
            display: flex; width: 100%; height: 100vh; overflow-x: hidden; 
            scroll-behavior: smooth; scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch; touch-action: pan-x pinch-zoom;
        }
        
        /* Slides de fotos */
        .photo-slide { 
            min-width: 100vw; width: 100vw; height: 100vh; 
            scroll-snap-align: start; position: relative; 
            display: flex; align-items: center; justify-content: center; 
            background: #000;
        }
        
        /* Portada */
        .cover-slide { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #9b59b6 50%, #8e44ad 75%, #6c3483 100%) !important;
            background-size: 400% 400% !important;
        }
        
        /* Controles */
        .controls { 
            position: fixed; top: 20px; right: 20px; z-index: 1000; 
            display: flex; gap: 10px; flex-wrap: wrap; max-width: 120px; 
        }
        .control-btn { 
            width: 50px; height: 50px; border-radius: 50%; 
            background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); 
            border: 2px solid rgba(255, 255, 255, 0.3); color: #fff;
            display: flex; align-items: center; justify-content: center; 
            cursor: pointer; padding: 0;
        }
        .control-btn svg { width: 24px; height: 24px; }
        
        /* Indicador de p√°gina */
        .page-indicator { 
            position: fixed; top: 20px; left: 20px; z-index: 1000; 
            padding: 10px 20px; background: rgba(255, 255, 255, 0.2); 
            backdrop-filter: blur(10px); border: 2px solid rgba(255, 255, 255, 0.3); 
            border-radius: 50px; color: #fff; font-size: 0.9rem; 
        }
        
        /* Barra de progreso */
        .progress-bar { 
            position: fixed; bottom: 0; left: 0; width: 100%; height: 4px; 
            background: rgba(255, 255, 255, 0.2); z-index: 999; 
        }
        .progress-fill { 
            height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); 
            transition: width 0.3s ease; 
        }
        
        /* Imagen del slide */
        .slide-img { 
            width: 85%; height: 85%; object-fit: cover; border-radius: 20px; 
            margin: auto; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3); 
        }
    </style>
    
    <!-- Cargar CSS completo de forma as√≠ncrona -->
    <link rel="stylesheet" href="style.css" media="print" onload="this.media='all'; this.onload=null;">
    <noscript><link rel="stylesheet" href="style.css"></noscript>
</head>
<body>
    <!-- Controles Flotantes -->
        <div class="controls">
        <button id="reloadBtn" class="control-btn" aria-label="Recargar p√°gina" title="Recargar">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
            </svg>
        </button>
        <button id="musicBtn" class="control-btn" aria-label="Control de m√∫sica" title="M√∫sica">
            <svg class="music-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"/>
            </svg>
        </button>
        <button id="zoomInBtn" class="control-btn" aria-label="Aumentar zoom" title="Zoom +">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
            </svg>
        </button>
        <button id="zoomOutBtn" class="control-btn" aria-label="Reducir zoom" title="Zoom -">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"/>
            </svg>
        </button>
        </div>

    <!-- Indicador de p√°gina -->
    <div class="page-indicator">
        <span id="currentPage">1</span> / <span id="totalPages">32</span>
                        </div>
                        
    <!-- Barra de progreso -->
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    
    <!-- Contenedor principal del √°lbum -->
    <div class="album-container" id="albumContainer">
        
        <!-- P√°gina de portada -->
        <div class="photo-slide cover-slide">
            <!-- Decoraciones de cumplea√±os flotantes -->
            <div class="birthday-decorations">
                <div class="floating-emoji" style="top: 5%; left: 10%; animation-delay: 0s;">üéÇ</div>
                <div class="floating-emoji" style="top: 15%; right: 15%; animation-delay: 0.5s;">üéà</div>
                <div class="floating-emoji" style="top: 10%; left: 80%; animation-delay: 1s;">üéâ</div>
                <div class="floating-emoji" style="top: 80%; left: 5%; animation-delay: 1.5s;">üéÅ</div>
                <div class="floating-emoji" style="top: 85%; right: 10%; animation-delay: 2s;">üéä</div>
                <div class="floating-emoji" style="top: 50%; left: 5%; animation-delay: 2.5s;">üç∞</div>
                <div class="floating-emoji" style="top: 60%; right: 5%; animation-delay: 3s;">‚ú®</div>
                <div class="floating-emoji" style="top: 25%; left: 50%; animation-delay: 0.7s;">üíñ</div>
                <div class="floating-emoji" style="top: 70%; left: 50%; animation-delay: 1.2s;">üéÄ</div>
                <div class="floating-emoji" style="top: 40%; right: 20%; animation-delay: 1.8s;">üåü</div>
            </div>

            <div class="cover-content">
                <!-- T√≠tulo principal de cumplea√±os -->
                <div class="birthday-title-container">
                    <h1 class="birthday-main-title">FELIZ CUMPLEA√ëOS</h1>
                    <h2 class="birthday-name">NENIS</h2>
            </div>

                <!-- Fotos rectangulares -->
                <div class="cover-photos-rectangular">
                    <div class="cover-photo-rect-frame">
                        <img src="images/Nena1.jpg" alt="Foto 1" class="cover-img-rect">
                        <div class="photo-shine"></div>
                    </div>
                    <div class="cover-photo-rect-frame">
                        <img src="images/nena2.jpg" alt="Foto 2" class="cover-img-rect">
                        <div class="photo-shine"></div>
                </div>
            </div>

                <!-- Mensaje de amistad -->
                <div class="friendship-message">
                    <p class="friendship-text">FELIZ CUMPLEA√ëOS</p>
                    <div class="hearts-decoration">üíï üíñ üíï</div>
            </div>

                <!-- Hint de swipe -->
                <div class="swipe-hint">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
                    </svg>
                    <span>Desliza para ver las fotos</span>
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
                    </svg>
                </div>
            </div>
                        </div>

        <!-- Foto 1 - Tema BTS -->
        <div class="photo-slide border-bts">
            <img src="images/475213825_661090719578594_8438408403661679477_n.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 2 - Tema Cumplea√±os -->
        <div class="photo-slide border-birthday">
            <img src="images/475513814_662809212740078_6274997374332434987_n.webp" alt="Recuerdo" class="slide-img">
                    </div>

        <!-- Foto 3 - Tema SEVENTEEN -->
        <div class="photo-slide border-seventeen">
            <img src="images/481223679_680930597594606_5543258437609807062_n.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 4 - Tema Amistad -->
        <div class="photo-slide border-friendship">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.39_0ed4de5e.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                </div>

        <!-- Foto 5 - Tema BLACKPINK -->
        <div class="photo-slide border-blackpink">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.39_201b8f71.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
            </div>

        <!-- Foto 6 - Tema Naturaleza -->
        <div class="photo-slide border-nature">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.39_aa223ca5.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 7 - Tema EXO -->
        <div class="photo-slide border-exo">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.40_497a25a3.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 8 - Tema Casa -->
        <div class="photo-slide border-home">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.42_11fa6a64.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 9 - Tema ATEEZ -->
        <div class="photo-slide border-ateez">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.42_2921d04e.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 10 - Tema BTS -->
        <div class="photo-slide border-bts">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.42_a0fe2c17.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                </div>

        <!-- Foto 11 - Tema Cumplea√±os -->
        <div class="photo-slide border-birthday">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.43_16e3ede6.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
            </div>

        <!-- Foto 12 - Tema Amistad -->
        <div class="photo-slide border-friendship">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.43_612bc96b.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 13 - Tema SEVENTEEN -->
        <div class="photo-slide border-seventeen">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.44_2ed665e4.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 14 - Tema BLACKPINK -->
        <div class="photo-slide border-blackpink">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.44_c9c78d94.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 15 - Tema Naturaleza -->
        <div class="photo-slide border-nature">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.44_d3679496.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 16 - Tema EXO -->
        <div class="photo-slide border-exo">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.45_4d0dd28f.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                </div>

        <!-- Foto 17 - Tema Casa -->
        <div class="photo-slide border-home">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.45_7b56017e.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
            </div>

        <!-- Foto 18 - Tema ATEEZ -->
        <div class="photo-slide border-ateez">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.46_3d10d09c.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 19 - Tema BTS -->
        <div class="photo-slide border-bts">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.46_7af8911d.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 20 - Tema Cumplea√±os -->
        <div class="photo-slide border-birthday">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.46_baf3ab04.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 21 - Tema Amistad -->
        <div class="photo-slide border-friendship">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.47_9add1eb7.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 22 - Tema SEVENTEEN -->
        <div class="photo-slide border-seventeen">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.48_27ea0969.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                </div>

        <!-- Foto 23 - Tema BLACKPINK -->
        <div class="photo-slide border-blackpink">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.50_14046347.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
            </div>

        <!-- Foto 24 - Tema Naturaleza -->
        <div class="photo-slide border-nature">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.51_27327698.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 25 - Tema EXO -->
        <div class="photo-slide border-exo">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.51_924f75f5.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                        </div>

        <!-- Foto 26 - Tema Casa -->
        <div class="photo-slide border-home">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.51_ff20d1f5.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
                    </div>

        <!-- Foto 27 - Tema ATEEZ -->
        <div class="photo-slide border-ateez">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.52_1b8bfc8d.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
            </div>

        <!-- Foto 28 - Tema BTS -->
        <div class="photo-slide border-bts">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.52_79a937e4.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
            </div>

        <!-- Foto 29 - Tema Cumplea√±os -->
        <div class="photo-slide border-birthday">
            <img src="images/Imagen de WhatsApp 2025-09-27 a las 18.21.52_bd9d5518.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
            </div>

        <!-- Foto 30 - Tema Amistad (Nueva) -->
        <div class="photo-slide border-friendship">
            <img src="images/Imagen de WhatsApp 2025-10-02 a las 19.55.37_47065e06.webp" alt="Recuerdo" class="slide-img" loading="lazy" decoding="async">
        </div>

        <!-- P√°gina final -->
        <div class="photo-slide final-slide">
            <div class="final-content">
                <h2 class="final-title">üíñ</h2>
                <p class="final-text">Fin del √°lbum</p>
                <button class="restart-btn" id="restartBtn">Ver de nuevo</button>
            </div>
        </div>

    </div>

    <!-- Audio de fondo -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="images/BTS (Î∞©ÌÉÑÏÜåÎÖÑÎã®) - Mikrokosmos (ÏÜåÏö∞Ï£º) (Color Coded Lyrics Eng_Rom_Han_Í∞ÄÏÇ¨) - Jaeguchi.mp3" type="audio/mpeg">
    </audio>

    <!-- Part√≠culas flotantes -->
    <canvas id="particlesCanvas"></canvas>

    <!-- Service Worker para cach√© optimizado -->
    <script>
        // Registrar Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then((registration) => {
                        console.log('‚úÖ Service Worker registrado:', registration.scope);
                        
                        // Actualizar SW cuando haya nueva versi√≥n
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Nueva versi√≥n disponible, actualizar
                                    newWorker.postMessage({ type: 'SKIP_WAITING' });
                                    window.location.reload();
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.log('‚ö†Ô∏è Service Worker no pudo registrarse:', error);
                    });
            });
        }
    </script>

    <script src="script.js" defer></script>
</body>
</html>
